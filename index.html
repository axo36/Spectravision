<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Test EmailJS complet</title>

  <!-- SDK EmailJS -->
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js" defer></script>
</head>
<body>
  <h1>Testj EmailJS</h1>

  <form id="test-form">
    <label for="email">Votre email :</label>
    <input type="email" name="user_email" id="email" required>
    <button type="submit">Envoyer</button>
  </form>

  <!-- Ton script doit venir APRÈS l'import -->
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Initialiser EmailJS
      emailjs.init("XNSIQz9FjiHtVcuuL"); // ⚠️ Mets ta clé publique

      const form = document.getElementById("test-form");
      console.log("✅ Formulaire détecté :", form);

      form.addEventListener("submit", function(e) {
        e.preventDefault();
        alert("Le bouton marche !");
        console.log("✅ Bouton cliqué, événement submit capté.");

        const emailValue = document.getElementById("email").value;
        if (!emailValue) {
          alert("❌ Erreur : champ email vide !");
          return;
        }

        emailjs.sendForm("service_lsaa4zo", "template_umkge6s", this)
          .then(() => {
            alert("✅ Email envoyé avec succès !");
          })
          .catch(err => {
            console.error("❌ Erreur EmailJS :", err);
            alert("❌ Erreur EmailJS : " + JSON.stringify(err));
          });
      });
    });
  </script>
</body>
</html>
